<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title>Reporte de Incendio</ion-title>
    <ion-buttons class="boton_1" slot="start">
      <ion-back-button defaultHref="/inicio/home"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content [fullscreen]="true" class="ion-padding fondo">
  <div class="container">
    <select
      class="form-select"
      aria-label="Default select example"
      style="margin-bottom: 1em"
      [(ngModel)]="formIncendio.typeIncident"
    >
      <option selected>Seleccione el Tipo de Incendio</option>
      <option value="1">Domestico</option>
      <option value="2">Departamento</option>
      <option value="3">Forestal</option>
    </select>

    <div class="mb-3">
      <label for="ubicacion" class="form-label"
        ><h3>Ingresar Ubicaci贸n</h3></label
      >
      <div class="input-group">
        <input
          type="text"
          class="form-control"
          id="ubicacion"
          placeholder="Inserte Ubicacion"
          [(ngModel)]="formIncendio.coordinate"
          [value]="formIncendio.coordinate | json"
          readonly
        />
        <button
          class="btn btn-primary"
          type="button"
          id="obtenerUbicacion"
          (click)="goToLocationPage()"
        >
          <i class="bi bi-geo-alt-fill"></i>
        </button>
      </div>
    </div>

    <ion-button expand="full" (click)="takePhoto()">
      <ion-icon slot="icon-only" name="camera"></ion-icon>
      Tomar Foto</ion-button
    >
    <!--Apartado para vizualizar la foto seleccionada-->
    <ion-item *ngIf="formIncendio.photo">
      <ion-img
        [src]="formIncendio.photo"
        style="width: 200px; height: 200px"
      ></ion-img>
    </ion-item>

    <h1 class="text-decoration-underline">Informaci贸n Adicional</h1>
    <div class="form-check">
      <input
        class="form-check-input"
        type="radio"
        name="glifoCercano"
        id="glifoSi"
        [(ngModel)]="formIncendio.knowsGrifo"
        [value]="true"
      />
      <label class="form-check-label" for="glifoSi">
        Si, conozco un grifo cercano
      </label>
    </div>
    <div class="form-check">
      <input
        class="form-check-input"
        type="radio"
        name="glifoCercano"
        id="glifoNo"
        [(ngModel)]="formIncendio.knowsGrifo"
        [value]="false"
      />
      <label class="form-check-label" for="glifoNo">
        No, desconozco grifos cercanos
      </label>
    </div>

    <div class="mb-3" *ngIf="formIncendio.knowsGrifo">
      <label for="grifoUbicacion" class="form-label"
        >Localizaci贸n del Grifo Cercano</label
      >
      <textarea
        class="form-control"
        id="grifoUbicacion"
        placeholder="Describe la ubicaci贸n del grifo"
        name="descriptionGrifo"
        [(ngModel)]="formIncendio.descriptionGrifo"
      ></textarea>
    </div>

    <div class="mb-3">
      <label for="detalles" class="form-label">Detalles adicionales</label>
      <textarea
        class="form-control"
        id="detalles"
        placeholder="Describe cualquier detalle que ayude a los bomberos"
        name="description"
        [(ngModel)]="formIncendio.description"
      ></textarea>
    </div>

    <div class="d-grid gap-2 col-6 mx-auto">
      <button
        type="button"
        (click)="validateForm()"
        class="btn btn-primary btn-lg"
      >
        Enviar Reporte
      </button>
    </div>
  </div>
</ion-content>
